import{e as m,o as $,r as x,S as B,u as L,h as F,j as i,f,L as w}from"./index-BRBX7hDb.js";import{c as E}from"./Layout-KhibMNC7.js";import{s as R}from"./spinner-CkndCogW.js";import{A as T}from"./AdminServices-DS-LzysT.js";import{P,C as y,a as O,A as d}from"./ProductServices-B8dTtDEx.js";import{C as S}from"./CouponServices-j8c0PyJg.js";import{u as U}from"./DrawerButton-BjwC-AQC.js";import{C as j}from"./CurrencyServices-DdWWi0T6.js";import{n as l,a as h}from"./toast-BmuvtaoB.js";import{u as q}from"./useDisableForDemo-8L6F_Yoc.js";const b={getAllPages:async({page:a,limit:s,search:u})=>{const g=new URLSearchParams;return a&&g.append("page",a),s&&g.append("limit",s),u&&g.append("search",u),m.get(`/pages?${g.toString()}`)},getAllPagesWithoutPagination:async()=>m.get("/pages/all"),getPageById:async a=>m.get(`/pages/${a}`),getPageBySlug:async a=>m.get(`/pages/slug/${a}`),addPage:async a=>m.post("/pages/add",a),updatePage:async(a,s)=>m.put(`/pages/${a}`,s),updateStatus:async(a,s)=>m.put(`/pages/status/${a}`,s),deletePage:async a=>m.delete(`/pages/${a}`),updateManyPages:async a=>m.patch("/pages/update/many",a),deleteManyPages:async a=>m.patch("/pages/delete/many",a)},H=({id:a,ids:s,setIsCheck:u,category:g,title:M,useParamId:v})=>{const{isModalOpen:C,closeModal:t,setIsUpdate:n}=x.useContext(B),{setServiceId:o}=U(),c=L(),[D,r]=x.useState(!1),{handleDisableForDemo:A}=q(),N=async()=>{if(!A())try{if(r(!0),c.pathname==="/products")if(s){const e=await P.deleteManyProducts({ids:s});n(!0),l(e.message),u([]),o(),t(),r(!1)}else{const e=await P.deleteProduct(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/coupons")if(s){const e=await S.deleteManyCoupons({ids:s});n(!0),l(e.message),u([]),o(),t(),r(!1)}else{const e=await S.deleteCoupon(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/categories"||g)if(s){const e=await y.deleteManyCategory({ids:s});n(!0),l(e.message),u([]),o(),t(),r(!1)}else{if(a===void 0||!a)return h("Please select a category first!"),r(!1),t();const e=await y.deleteCategory(a);n(!0),l(e.message),t(),o(),r(!1)}else if(c.pathname===`/categories/${v}`||g){if(a===void 0||!a)return h("Please select a category first!"),r(!1),t();const e=await y.deleteCategory(a);n(!0),l(e.message),t(),o(),r(!1)}if(c.pathname==="/customers"){const e=await O.deleteCustomer(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/attributes")if(s){const e=await d.deleteManyAttribute({ids:s});n(!0),l(e.message),u([]),o(),t(),r(!1)}else{const e=await d.deleteAttribute(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname===`/attributes/${c.pathname.split("/")[2]}`)if(s){const e=await d.deleteManyChildAttribute({id:c.pathname.split("/")[2],ids:s});n(!0),l(e.message),o(),u([]),t(),r(!1)}else{const e=await d.deleteChildAttribute({id:a,ids:c.pathname.split("/")[2]});n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/our-staff"){const e=await T.deleteStaff(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/languages")if(s){const e=await w.deleteManyLanguage({ids:s});n(!0),l(e.message),u([]),t(),r(!1)}else{const e=await w.deleteLanguage(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/currencies")if(s){const e=await j.deleteManyCurrency({ids:s});n(!0),l(e.message),u([]),t(),r(!1)}else{const e=await j.deleteCurrency(a);n(!0),l(e.message),o(),t(),r(!1)}if(c.pathname==="/pages")if(s){const e=await b.deleteManyPages({ids:s});n(!0),l(e.message),u([]),o(),t(),r(!1)}else{const e=await b.deletePage(a);n(!0),l(e.message),o(),t(),r(!1)}}catch(e){h(e?e?.response?.data?.message:e?.message),o(),u([]),t(),r(!1)}},{t:p}=F();return i.jsx(i.Fragment,{children:i.jsxs(f.Modal,{isOpen:C,onClose:t,children:[i.jsxs(f.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[i.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:i.jsx(E,{})}),i.jsxs("h2",{className:"text-xl font-medium mb-2",children:[p("DeleteModalH2")," ",i.jsx("span",{className:"text-red-500",children:M}),"?"]}),i.jsx("p",{children:p("DeleteModalPtag")})]}),i.jsxs(f.ModalFooter,{className:"justify-center",children:[i.jsx(f.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:t,children:p("modalKeepBtn")}),i.jsx("div",{className:"flex justify-end",children:D?i.jsxs(f.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[i.jsx("img",{src:R,alt:"Loading",width:20,height:10})," ",i.jsx("span",{className:"font-serif ml-2 font-light",children:p("Processing")})]}):i.jsx(f.Button,{onClick:N,className:"w-full h-12 sm:w-auto",children:p("modalDeletBtn")})})]})]})})},_=$.memo(H);export{_ as D,b as P};
