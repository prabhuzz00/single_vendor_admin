import{j as e,f as s,o as P,s as S,h as F,r as h,S as A}from"./index-BRBX7hDb.js";import{u as V}from"./useAsync-BesWtCte.js";import{u as D}from"./useFilter-CmFPAZ1j.js";import{u as z,P as B}from"./ProductDrawer-BF1TfJ3l.js";import{u as R,M as _}from"./DrawerButton-BjwC-AQC.js";import{P as E}from"./ProductServices-B8dTtDEx.js";import{u as N,j as f,k as j,m as I,o as O,p as q}from"./Layout-KhibMNC7.js";import{L}from"./Loading-Dw8YPOdr.js";import{P as u}from"./PageTitle-C0I8t3w2.js";import"./browser-CmZe1AEk.js";import"./index-CBBKfmC5.js";import"./useDisableForDemo-8L6F_Yoc.js";import"./toast-BmuvtaoB.js";import"./CouponServices-j8c0PyJg.js";import"./CurrencyServices-DdWWi0T6.js";import"./ParentCategory-b8eB83_s.js";import"./index-D6WZe_ds.js";import"./index.esm-DIUuZJ-3.js";import"./InputArea-D5SbBmG7.js";import"./LabelArea-B1eROtO8.js";import"./InputValue-Ur4soqKA.js";import"./useTranslationValue-BkQTMktR.js";import"./Uploader-DqKrMY9q.js";import"./tslib.es6-BfZZHrVl.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./Tooltip-Be4V-BoV.js";import"./index.prod-DzGpE9S3.js";import"./spinner-CkndCogW.js";import"./iconBase-MO_yqM0e.js";import"./logo-color-D4dEd9DP.js";const Q=({variants:d,variantTitle:t})=>{const{showingTranslateValue:g,currency:n,getNumberTwo:b}=N();return e.jsx(e.Fragment,{children:e.jsx(s.TableBody,{children:d?.map((r,i)=>r.variantType==="size"&&r.pricingTiers?e.jsxs(P.Fragment,{children:[e.jsxs(s.TableRow,{className:"bg-gradient-to-r from-brown-50 to-coffee-50 dark:from-brown-900 dark:to-coffee-900 border-l-4 border-brown-500",children:[e.jsx(s.TableCell,{className:"font-bold text-brown-700 dark:text-brown-300",rowSpan:r.pricingTiers.length+1,children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-brown-600 text-white rounded-full text-sm font-bold",children:i+1})}),e.jsx(s.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsx("div",{className:"flex items-center",children:r.image?e.jsx(s.Avatar,{className:"hidden md:block bg-white shadow-md ring-2 ring-brown-200 dark:ring-brown-700",src:r.image,alt:"product"}):e.jsx(s.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product",className:"hidden md:block bg-white shadow-md ring-2 ring-brown-200 dark:ring-brown-700"})})}),e.jsx(s.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(f,{className:"text-brown-600 dark:text-brown-400"}),e.jsx("span",{className:"font-bold text-base text-brown-800 dark:text-brown-300",children:r.combination})]}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-brown-100 dark:bg-brown-800 text-brown-800 dark:text-brown-200",children:"Size Variant"})]})}),e.jsx(s.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(j,{className:"text-gray-500 text-sm"}),e.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:r.sku||"N/A"})]})}),e.jsx(s.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsx("div",{className:"font-mono text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:r.barcode||"N/A"})}),e.jsx(s.TableCell,{colSpan:2,children:e.jsx("div",{className:"bg-gradient-to-r from-brown-100 to-coffee-100 dark:from-brown-800 dark:to-coffee-800 p-3 rounded-lg border border-brown-200 dark:border-brown-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"text-brown-600 dark:text-brown-400"}),e.jsxs("span",{className:"text-sm font-bold text-brown-800 dark:text-brown-200",children:["Pricing Tiers (",r.pricingTiers.length,")"]})]})})}),e.jsx(s.TableCell,{rowSpan:r.pricingTiers.length+1,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(O,{className:"text-brown-600 dark:text-brown-400 mb-1"}),e.jsx("span",{className:"font-bold text-lg text-brown-700 dark:text-brown-300",children:r.quantity}),e.jsx("span",{className:"text-xs text-gray-500",children:"in stock"})]})})]}),r.pricingTiers.map((l,c)=>e.jsxs(s.TableRow,{className:"bg-white dark:bg-gray-800 hover:bg-brown-50 dark:hover:bg-brown-900 transition-colors border-l-4 border-brown-300 dark:border-brown-600",children:[e.jsx(s.TableCell,{colSpan:2,children:e.jsxs("div",{className:"flex items-center gap-3 py-2",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brown-500 to-brown-600 text-white rounded-lg shadow-md",children:e.jsx(f,{className:"text-lg"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-bold text-base text-brown-700 dark:text-brown-300",children:[l.quantity," pieces"]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Quantity tier"})]}),l.discount>0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-full shadow-md",children:[e.jsx(q,{className:"text-sm"}),e.jsxs("span",{className:"font-bold text-sm",children:[l.discount,"% OFF"]})]})]})}),e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Base Price"}),e.jsxs("span",{className:"font-bold text-base text-gray-700 dark:text-gray-300",children:[n," ",l.basePrice.toFixed(2)]})]})}),e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-brown-50 to-coffee-50 dark:from-brown-900 dark:to-coffee-900 p-3 rounded-lg border border-brown-200 dark:border-brown-700",children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:"Final Price (per piece)"}),e.jsxs("span",{className:"font-bold text-lg text-brown-700 dark:text-brown-300",children:[n," ",l.finalPrice.toFixed(2)]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-brown-200 dark:border-brown-700",children:[e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Value:"}),e.jsxs("span",{className:"font-bold text-base text-brown-600 dark:text-brown-400 ml-2",children:[n," ",(l.finalPrice*l.quantity).toFixed(2)]})]})]})})]},`${i}-tier-${c}`))]},i+1):e.jsxs(s.TableRow,{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx(s.TableCell,{children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-600 text-white rounded-full text-sm font-bold",children:i+1})}),e.jsx(s.TableCell,{children:e.jsx("div",{className:"flex items-center",children:r.image?e.jsx(s.Avatar,{className:"hidden md:block bg-white shadow-md ring-2 ring-gray-200 dark:ring-gray-700",src:r.image,alt:"product"}):e.jsx(s.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product",className:"hidden md:block bg-white shadow-md ring-2 ring-gray-200 dark:ring-gray-700"})})}),e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-800 dark:text-gray-200",children:t?.map(l=>{const o=l?.variants?.filter(x=>x?.name!=="All")?.find(x=>x._id===r[l?._id])?.name;return o===void 0?o?.en:g(o)})?.filter(Boolean).join(" ")}),r.productId&&e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["(",r.productId,")"]})]})}),e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(j,{className:"text-gray-500 text-sm"}),e.jsx("span",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:r.sku||"N/A"})]})}),e.jsx(s.TableCell,{children:e.jsx("div",{className:"font-mono text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:r.barcode||"N/A"})}),e.jsx(s.TableCell,{children:e.jsxs("span",{className:"font-semibold text-sm text-gray-600 dark:text-gray-400",children:[n," ",b(r.originalPrice)]})}),e.jsx(s.TableCell,{children:e.jsxs("span",{className:"font-bold text-base text-brown-600 dark:text-brown-400",children:[n," ",b(r.price)]})}),e.jsx(s.TableCell,{children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-bold text-base text-gray-700 dark:text-gray-300",children:r.quantity}),e.jsx("span",{className:"text-xs text-gray-500",children:"in stock"})]})})]},i+1))})})},ue=()=>{const{id:d}=S(),{t}=F(),{handleUpdate:g}=R(),{attribue:n}=z(d),[b,r]=h.useState([]),{lang:i}=h.useContext(A),{data:a,loading:l}=V(()=>E.getProductById(d)),{currency:c,showingTranslateValue:o,getNumberTwo:x}=N(),{handleChangePage:w,totalResults:y,resultsPerPage:k,dataTable:T}=D(a?.variants);return h.useEffect(()=>{if(!l)if(a?.variants?.some(m=>m.variantType==="size"))r([]);else{const m=Object.keys(Object.assign({},...a?.variants)),v=n?.filter(C=>m.includes(C._id));r(v)}},[n,a?.variants,l,i]),console.log("product",a),e.jsxs(e.Fragment,{children:[e.jsx(_,{product:!0,children:e.jsx(B,{id:d})}),e.jsx(u,{children:t("ProductDetails")}),l?e.jsx(L,{loading:l}):e.jsx("div",{className:"inline-block overflow-y-auto h-full align-middle transition-all transform",children:e.jsxs("div",{className:"flex flex-col lg:flex-row md:flex-row w-full overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-auto",children:a?.image[0]?e.jsx("img",{src:a?.image[0],alt:"product",className:"h-64 w-64"}):e.jsx("img",{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"})}),e.jsxs("div",{className:"w-full flex flex-col p-5 md:p-8 text-left",children:[e.jsxs("div",{className:"mb-5 block ",children:[e.jsx("div",{className:"font-serif font-semibold py-1 text-sm",children:e.jsxs("p",{className:"text-sm text-gray-500 pr-4",children:[t("Status"),":"," ",a.status==="show"?e.jsx("span",{className:"text-emerald-400",children:t("ThisProductShowing")}):e.jsx("span",{className:"text-red-400",children:t("ThisProductHidden")})]})}),e.jsx("h2",{className:"text-heading text-lg md:text-xl lg:text-2xl font-semibold font-serif dark:text-gray-400",children:o(a?.title)}),e.jsxs("p",{className:"uppercase font-serif font-medium text-gray-500 dark:text-gray-400 text-sm",children:[t("Sku")," :"," ",e.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-500",children:a?.sku})]})]}),e.jsx("div",{className:"font-serif product-price font-bold dark:text-gray-400",children:e.jsxs("span",{className:"inline-block text-2xl",children:[c,x(a?.prices?.price),a?.prices?.discount>=1&&e.jsxs("del",{className:"text-gray-400 dark:text-gray-500 text-lg pl-2",children:[c,x(a?.prices?.originalPrice)]})]})}),e.jsxs("div",{className:"mb-3",children:[a?.stock<=0?e.jsxs(s.Badge,{type:"danger",children:[e.jsx("span",{className:"font-bold",children:t("StockOut")})," "]}):e.jsxs(s.Badge,{type:"success",children:[" ",e.jsx("span",{className:"font-bold",children:t("InStock")})]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium pl-4",children:[t("Quantity"),": ",a?.stock]})]}),e.jsx("p",{className:"text-sm leading-6 text-gray-500 dark:text-gray-400 md:leading-7",children:o(a?.description)}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsxs("p",{className:"font-serif font-semibold py-1 text-gray-500 text-sm",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-400",children:[t("Category"),":"," "]})," ",o(a?.category?.name)]}),e.jsx("div",{className:"flex flex-row",children:JSON.parse(a?.tag).map((p,m)=>e.jsx("span",{className:"bg-gray-200 mr-2 border-0 text-gray-500 rounded-full inline-flex items-center justify-center px-2 py-1 text-xs font-semibold font-serif mt-2 dark:bg-gray-700 dark:text-gray-300",children:p},m+1))})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>g(d),className:"cursor-pointer leading-5 transition-colors duration-150 font-medium text-sm focus:outline-none px-5 py-2 rounded-md text-white bg-emerald-500 border border-transparent active:bg-emerald-600 hover:bg-emerald-600 ",children:t("EditProduct")})})]})]})}),a?.isCombination&&a?.variants?.length>0&&!l&&e.jsxs(e.Fragment,{children:[e.jsx(u,{children:t("ProductVariantList")}),e.jsxs(s.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:t("SR")}),e.jsx(s.TableCell,{children:t("Image")}),e.jsx(s.TableCell,{children:t("Combination")}),e.jsx(s.TableCell,{children:t("Sku")}),e.jsx(s.TableCell,{children:t("Barcode")}),e.jsx(s.TableCell,{children:t("Price")}),e.jsx(s.TableCell,{children:t("SalePrice")}),e.jsx(s.TableCell,{children:t("Quantity")})]})}),e.jsx(Q,{lang:i,variants:T,currency:c,variantTitle:b})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:y,resultsPerPage:k,onChange:w,label:"Product Page Navigation"})})]})]})]})};export{ue as default};
